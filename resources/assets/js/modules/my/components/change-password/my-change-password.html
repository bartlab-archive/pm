<form name="$ctrl.form" ng-submit="$ctrl.form.$valid && $ctrl.submit()" novalidate server-form="$ctrl.errors">
    <div layout="row" layout-align="center start">
        <md-card flex-xs="100" flex-sm="100" flex-md="70" flex-gt-md="50">
            <md-progress-linear md-mode="indeterminate" ng-if="$ctrl.loadProcess"></md-progress-linear>

            <md-card-header>
                <md-card-header-text>
                    <span class="md-title">Change password</span>
                </md-card-header-text>
            </md-card-header>

            <md-card-content>
                <md-input-container class="md-icon-float md-block">
                    <label>Password</label>
                    <input type="password" name="password"
                           ng-model="$ctrl.model.password"
                           required server-field>

                    <div ng-messages="$ctrl.form.password.$error">
                        <div ng-message="required">Password cannot be blank</div>
                        <div ng-message="server" ng-bind-html="$ctrl.form.password.$server"></div>
                    </div>
                </md-input-container>

                <md-input-container class="md-icon-float md-block">
                    <label>New password</label>
                    <input type="password" name="new_password"
                           ng-minlength="8"
                           ng-model="$ctrl.model.new_password"
                           required server-field>

                    <div ng-messages="$ctrl.form.new_password.$error">
                        <div ng-message="minlength">New password is too short (minimum is 8 characters)</div>
                        <div ng-message="required">New password cannot be blank!</div>
                        <div ng-message="server" ng-bind-html="$ctrl.form.new_password.$server"></div>
                    </div>
                </md-input-container>

                <md-input-container class="md-icon-float md-block">
                    <label>Confirmation</label>
                    <input type="password" name="confirm_new_password"
                           ng-pattern="{{ $ctrl.model.new_password }}"
                           ng-model="$ctrl.model.confirm_new_password"
                           required server-field>

                    <div ng-messages="$ctrl.form.confirm_new_password.$error">
                        <div ng-message="required">Confirmation cannot blank!</div>
                        <div ng-message-exp="['pattern']">Password doesn't match confirmation</div>
                        <div ng-message="server" ng-bind-html="$ctrl.form.confirm_new_password.$server"></div>
                    </div>
                </md-input-container>
            </md-card-content>

            <md-card-actions layout="row" layout-align="center center">
                <md-button class="md-raised md-primary"
                           ng-disabled="$ctrl.form.$invalid"
                           ng-click="$ctrl.submit()">
                    Apply
                </md-button>

                <md-button class="md-raised md-default animation-target" ng-click="$ctrl.cancel()">
                    Cancel
                </md-button>
            </md-card-actions>
        </md-card>
    </div>
</form>