<form name="$ctrl.form" ng-submit="$ctrl.submit()">
    <md-input-container class="md-block">
        <label>Name</label>

        <input name="name"
               type="text"
               required
               ng-change="$ctrl.change('name')"
               ng-model="$ctrl.project.name">

        <div ng-messages="$ctrl.form.name.$error">
            <div ng-message="required">Name can't be blank!</div>

            <div ng-message="server" ng-bind-html="$ctrl.errors.name | join"></div>
        </div>
    </md-input-container>

    <md-input-container class="md-block">
        <label>Description</label>

        <textarea name="description"
                  ng-model="$ctrl.project.description"
                  ng-change="$ctrl.change('description')">
        </textarea>
    </md-input-container>

    <md-input-container class="md-block">
        <label>Identifier</label>

        <input ng-model="$ctrl.project.identifier"
               type="text"
               name="identifier"
               md-maxlength="100"
               ng-pattern="/^[a-z]([a-z0-9\-\_]+)?$/"
               ng-change="$ctrl.change('identifier')"
               required>

        <div class="md-caption">
            Length between 1 and 100 characters. Only lower case letters (a-z), numbers, dashes and
            underscores are allowed, must start with a lower case letter.
            Once saved, the identifier cannot be changed.
        </div>

        <div ng-messages="$ctrl.form.identifier.$error">
            <div ng-message="required">Identifier can't be blank!</div>

            <div ng-message="pattern">Identifier is invalid</div>

            <div ng-message="md-maxlength">Identifier has to be less than 100 characters long.</div>

            <div ng-message="server" ng-bind-html="$ctrl.errors.identifier | join"></div>
        </div>
    </md-input-container>

    <md-input-container class="md-block">
        <label>Homepage</label>

        <input name="homepage"
               type="text"
               ng-model="$ctrl.project.homepage"
               ng-change="$ctrl.change('homepage')">

        <div ng-messages="$ctrl.form.homepage.$error">
            <div ng-message="server" ng-bind-html="$ctrl.errors.homepage | join"></div>
        </div>
    </md-input-container>

    <md-input-container class="md-block">
        <md-checkbox class="md-primary" aria-label="Public" ng-model="$ctrl.project.is_public">
            Public
        </md-checkbox>
    </md-input-container>

    <md-input-container class="md-block">
        <label>Subproject of</label>

        <md-select ng-model="$ctrl.project.parent_identifier">
            <md-option md-option-empty></md-option>

            <md-option ng-value="item.identifier"
                       ng-repeat="item in $ctrl.projects">
                {{ item.name }}
            </md-option>
        </md-select>
        <!--<div class="md-errors-spacer"></div>-->
    </md-input-container>

    <md-input-container class="md-block">
        <md-checkbox class="md-primary"
                     ng-model="$ctrl.project.inherit_members"
                     aria-label="Inherit members"
                     ng-disabled="!$ctrl.project.parent_identifier">
            Inherit members
        </md-checkbox>
    </md-input-container>
</form>