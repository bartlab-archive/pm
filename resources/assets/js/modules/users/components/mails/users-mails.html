<md-list>
    <md-list-item ng-repeat="email in $ctrl.emails">
        <p>{{ email.address }}</p>
        <md-icon>volume_up</md-icon>
        <md-switch class="md-primary" ng-model="$ctrl.emails[email.id].notify"
                   ng-change="$ctrl.updateEmailAddress(email.id)"></md-switch>
        <md-button class="md-secondary md-icon-button"
                   ng-if="!item.inherited_member"
                   ng-click="$ctrl.deleteEmailAddress(email.id)">
            <md-icon>delete</md-icon>
        </md-button>
    </md-list-item>
</md-list>

<form name="$ctrl.addEmailForm">
    <md-card-content>
        <md-input-container class="md-icon-float md-block">
            <label>Add email adress</label>
            <input ng-model="$ctrl.newEmail" type="email" required ng-change="$ctrl.change('email')"
                   name="email">
            <div ng-messages="$ctrl.addEmailForm.email.$error">
                <div ng-message="server" ng-bind-html="$ctrl.errors.text | join"></div>
            </div>
        </md-input-container>
    </md-card-content>

    <md-card-actions layout="row" layout-align="center center">
        <md-button class="md-raised md-primary" ng-click="$ctrl.addEmailAddress()"
                   ng-disabled="$ctrl.addEmailForm.$invalid || !$ctrl.newEmail">
            Add
        </md-button>
    </md-card-actions>
</form>
