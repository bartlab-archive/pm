<div layout-gt-sm="row" layout-margin-gt-sm>
    <div flex-gt-sm="70" flex-offset-gt-sm="15" class="md-whiteframe-2dp">
        <md-toolbar style="z-index: 0">
            <div class="md-toolbar-tools">
                <md-button
                        class="md-icon-button"
                        aria-label="New project"
                        ng-click="$ctrl.newProject()">
                    <md-icon>add</md-icon>
                </md-button>
                <h2>Projects</h2>
                <span flex></span>
                <md-switch class="md-body-1" ng-model="$ctrl.showClosed" md-invert aria-label="Show closed"
                           ng-change="$ctrl.load()"
                           ng-true-value="1" ng-false-value="0">
                    Show closed
                </md-switch>
            </div>
        </md-toolbar>

        <md-list>
            <md-list-item class="md-3-line" ng-repeat="row in $ctrl.list" ng-click="$ctrl.goto(row.identifier)">
                <div class="md-list-item-text" layout="column">
                    <h3>{{ row.name }}</h3>
                    <p>{{ row.homepage }}</p>
                    <p class="md-truncate" ng-bind-html="row.description | words: 50"></p>
                </div>

                <md-icon class="md-warn" ng-if="row.is_my === 1">star_rate</md-icon>
                <md-icon>{{ row.is_public?'lock_open':'lock' }}</md-icon>
                <md-icon ng-if="row.status === 5">close</md-icon>

                <md-divider ng-if="!$last"></md-divider>
            </md-list-item>
        </md-list>
    </div>
</div>