<mat-card [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.gt-md]="100">
    <mat-progress-bar mode="indeterminate" *ngIf="pending$ | async"></mat-progress-bar>
    <div *ngIf="item$ | async as item">
        <mat-card-header>
            <mat-card-title>{{item.subject}}</mat-card-title>
            <div fxFlex="100"></div>
            <div fxLayout="row" fxLayoutAlign="right center">
                <mat-slide-toggle>Private</mat-slide-toggle>
            </div>
        </mat-card-header>

        <mat-card-content>
            <form [formGroup]="form" fxFlex="100" fxLayout="row" fxLayoutGap="30px" (ngSubmit)="form.valid && submit()">

                <div fxLayout="column" fxFlex="70">
                    <mat-form-field class="example-full-width">
                        <input matInput placeholder="subject" value={{item.subject}} formControlName="subject">
                    </mat-form-field>

                    <mat-form-field class="example-full-width" floatLabel="never">
                        <mat-label>Description</mat-label>
                        <textarea matInput placeholder="description" rows="30">{{item.description}}</textarea>
                    </mat-form-field>
                </div>

                <div fxLayout="column" fxFlex="30">

                    <mat-form-field class="example-full-width">
                        <mat-select [placeholder]="item.project.name" name="project">
                            <mat-option matInput *ngFor="let project of projects$ | async" [value]="project.identifier">
                                {{project.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field class="example-full-width">
                        <mat-select [placeholder]="item.tracker.name" name="tracker">
                            <mat-option matInput *ngFor="let tracker of trackers$ | async" [value]="tracker.id">
                                {{tracker.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field class="example-full-width">
                        <mat-select [placeholder]="item.status.name" name="status">
                            <mat-option *ngFor="let status of statuses$ | async" [value]="status.id">
                                {{status.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field class="example-full-width">
                        <mat-select [placeholder]="item.priority.name" name="priority">
                            <mat-option *ngFor="let priority of priorities$ | async" [value]="priority.id">
                                {{priority.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field class="example-full-width">
                        <mat-select [placeholder]="item.assigned?.full_name" name="priority">
                            <mat-option *ngFor="let user of users$ | async" [value]="user.id">
                                {{user.full_name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field>
                        <input matInput [matDatepicker]="startDate" placeholder="Start date"
                               value="{{item.start_date}}">
                        <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                        <mat-datepicker #startDate></mat-datepicker>
                    </mat-form-field>


                    <mat-form-field>
                        <input matInput [matDatepicker]="dueDate" placeholder="Due date"
                               value="{{item.due_date}}">
                        <mat-datepicker-toggle matSuffix [for]="dueDate"></mat-datepicker-toggle>
                        <mat-datepicker #dueDate></mat-datepicker>
                    </mat-form-field>


                    <mat-form-field class="example-full-width">
                        <div fxLayout="row" fxLayoutGap="30px">
                            <input matInput placeholder="id" value="">
                            <input matInput type="number" placeholder="hour" min="10" value="0">
                            <mat-select [(value)]="selected" placeholder="%Done">
                                <mat-option></mat-option>
                                <mat-option value="10">10%</mat-option>
                                <mat-option value="20">20%</mat-option>
                                <mat-option value="30">30%</mat-option>
                            </mat-select>
                        </div>
                    </mat-form-field>

                    <mat-form-field class="example-full-width">
                        <input matInput placeholder="watchers" value='watchers'>
                    </mat-form-field>
                </div>
            </form>
        </mat-card-content>

        <div fxLayout="row" fxLayoutAlign="left center">
            <mat-slide-toggle>Private notes</mat-slide-toggle>
        </div>

        <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px">
            <button mat-raised-button color="primary">SUBMIT</button>
            <button mat-raised-button>PREVIEW</button>
            <button mat-raised-button>CANCEL</button>
        </div>

    </div>
</mat-card>
